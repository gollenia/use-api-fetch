(function(e,r){typeof exports=="object"&&typeof module<"u"?module.exports=r(require("@wordpress/api-fetch"),require("react")):typeof define=="function"&&define.amd?define(["@wordpress/api-fetch","react"],r):(e=typeof globalThis<"u"?globalThis:e||self,e.useApiFetch=r(e.wp.apiFetch,e.React))})(this,function(e,r){"use strict";return(s,t={})=>{const[d,c]=r.useState(null),[f,a]=r.useState(null),[i,o]=r.useState(!1);return r.useEffect(()=>{const u=new AbortController;return t.nonce&&(e.use(e.createNonceMiddleware({nonce:t.nonce})),t.nonce=void 0),t.rootURL&&(e.use(e.createRootURLMiddleware({rootURL:t.rootURL})),t.rootURL=void 0),(async()=>{o(!0);try{const n=await e({path:s,method:t.method||"GET",data:t.data,signal:u.signal,parse:t.parse!==!1});c(n)}catch(n){a(n)}finally{o(!1)}})(),()=>u.abort()},[s,JSON.stringify(t)]),{result:d,error:f,loading:i}}});
